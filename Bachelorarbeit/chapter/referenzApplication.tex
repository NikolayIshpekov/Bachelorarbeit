\chapter{Cross-Plattform-Entwicklung mit Xamarin am Beispiel einer Migration undErweiterung existierender App} Im nachfolgenden Abschnitt werden die Anforderungen undFunktionalitäten einer bereits für iOS existierenden Applikation vorgestellt.Diese Anwendung wird als Vorlage für eine Xamarin.Forms Applikation dienen. Die wichtigstenEntwicklungsschritte dieser App werden im darauf folgenden Abschnitt beschrieben.\section{Beispiel-Anwendung (Nüßing Scan-App)}Nüßing GmbH ist Vollsortimenter für Industrie und Handwerk in den Bereichen Beschlagsysteme,Bauelemente und Werkzeuge. Dank der Nüßing Scan-App kann ein Handwerker, nach einer einmaligenRegistrierung die gewünschten Artikel bei Nüßing bestellen. Der Kunde muss lediglich den Barcode desArtikels mit der Kamera des Smartphones einscannen, anschließend wird der Barcode beim Serverüberprüft und falls der Artikel erkannt wurde, kann der Kunde die gewünschte Menge bestellen.Bei schlechten Lichtverhältnissen lässt sich die Blitzlicht-Lampe hinzuschalten. Sollte ein Barcode maldefekt sein, kann man es auch manuell eingeben (siehe Abb.\ref{fig:abb20}).\begin{figure}[!h]\centering\includegraphics[scale = 0.2]{graphics/ScannAppScreen_1.png}\caption{Nüßing-Scan-App}\label{fig:abb20}\end{figure}% \begin{figure}[!h]% \centering% \includegraphics[scale = 0.13]{graphics/NuessingReferenzApp_2.png}% \caption{Nüßing-FensterbankApp Fensterbank Eigenschaften}% \label{fig:abb21}% \end{figure}% \\Die Nüßing% Scan-App (siehe Abb.\ref{fig:abb20}) ist die von der Firma Sunato GmbH entwickelten Lösung dieses% Problems.% Es ist eine Applikation (für die Apple iOS Plattform), mit der ein Kunde% (Handwerker) ganz bequem eine Fensterbank bestellen kann, indem er die Maße, sowie gewünschte% Eigenschaften (Farbe, Antidröhn, Endstücke etc.) der Fensterbänke einfach in sein Smartphone oder% Tablet eingibt (siehe Abb.\ref{fig:abb21}).% Beim Absenden einer Bestellung werden die Daten direkt in das Nüßing ERP übertragen und lösen die% Bestellung und die Fertigung aus.\\Nüßing setzt MicrosoftsEnterprise Resource Planning (ERP) Lösung für den gehobenen Mittelstand, Dynamics AX, ein. DieERP-Software bietet vordefinierte Funktionen für die Branchen Fertigung, Großhandel/Distribution, Einzelhandel undDienstleistungen. Der Zugriff auf AX erfolgt mit dem Dynamics AX Workspace als Desktop Client odermit dem Enterprise Portal for Microsoft Dynamics AX per Browser. Weiterhin ermöglicht Dynamics AXden Zugriff über eine Reihe von programmierbaren Schnittstellen.\\Im ersten Schritt wurde in AX eineSchnittstelle definiert, um die Kommunikation mit den Smartphones und Tablets zuermöglichen.\\Die App ist mit einer lokalen Produktdatenbank ausgeliefert, die eineUnterstützung des Bestellprozesses ermöglicht.\\\cite{Sunato} \begin{figure}[!h]\centering\includegraphics[scale = 0.5]{graphics/ScanAppBestellung.png}\caption{Nüßing-Scan-App Bestellungspositionen}\label{fig:abb22}\end{figure}\subsection{Technische Grundlagen für die Erstellung der Scan-App}\begin{itemize}  \item \textbf{Backendkommunikation}\\Die App kommuniziert mit den Backend-Services auf AX-Seite  über HTTP und JSON. Die Serviceadresse wird in der App fest konfiguriert und ist erst durch ein  App-Update änderbar.  \item \textbf{Sicherheit}\\Die App unterstützt in Produktion eine HTTPS-Kommunikation.  \item \textbf{Anmeldeprozess}\\Der Anmeldeprozess dient der eindeutigen Identifikation und  Freischaltung eines App-Benutzers. Als Anmeldedaten werden Kundennummer und PLZ von dem Benutzer  beim erstmaligen App-Start eingegeben. Mit der Kundennummer und PLZ ruft die App den  Anmeldeservice auf. Der Anmeldeservice prüft die Anmeldedaten und stößt einen Anmeldeprozess im  Backend an. Wenn die Anmeldung erfolgreich ist, bekommt die App eine gültige GUID. Diese wird als  Session-ID für die weitere Kommunikation mit dem Backend benutzt und in der App dauerhaft  gespeichert. Sollte die Anmeldung nicht erfolgreich sein (z.B. Kundennummer falsch), ist die GUID  auf "`String.Empty"' gesetzt. Auf diesem Weg weist die App den Benutzer hin, dass seine  Anmeldedaten nicht akzeptiert worden sind und er die Anmeldung wiederholen kann bzw. soll.\\Die  Anmeldung muss pro App-Installation einmalig erfolgreich durchgeführt werden, bevor die  Scan-App benutzt werden kann.  \item \textbf{Bestellprozess}\\  Die Daten werden an den Bestellservice übermittelt. Der Service muss den erfolgreichen Eingang der  Bestellung bestätigen bzw. über einen Fehler Auskunft geben. Dafür muss der Service eine  Rückgabestruktur mit Rückgabecodes definieren. Gewünschtes Lieferdatum wird automatisch auf das  Tagesdatum gesetzt, eine Änderung kann durch den Benutzer vorgenommen werden. Name und eine  optionale Telefonnummer werden durch den Benutzer bei der Bestellung angegeben. Diese Daten werden  von der App gespeichert und bei den weiteren Bestellungen als Stammdaten mit den gespeicherten  Werten vorbelegt.\\Kommission kann bei der Bestellung angegeben werden. Der Wert wird nicht  gespeichert und muss bei jeder Bestellung neu angegeben werden.\end{itemize}