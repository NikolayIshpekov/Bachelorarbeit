 \chapter{Cross-Plattform-Entwicklung mit Xamarin am Beispiel einer Migration und Erweiterung existierender App} Um ein Cross-Plattform-Entwicklungsframework gut bewerten zu können, ist es notwendig eine App zuentwickeln, die anspruchsvolle Aufgaben erledigt. Am besten wäre es einen Vergleich zwischen zweiVersionen einer App ziehen zu können, einer nativ entwickelten Version und einer Version, die mit Xamarin erstellt wurde.% Am besten kann man das durchführen, indem man eine bereits% existierende App auf Xamarin migriert, bzw. mit Xamarin neu entwickelt, so dass im% "`Best-Case-Szenario"' am Ende die Xamarin-App sich kaum von der nativen App unterscheidet. % Es% werden die Anforderungen und Funktionalitäten einer bereits für iOS existierenden Applikation vorgestellt.% Diese Anwendung wird als Vorlage für eine Xamarin.Forms Applikation dienen. Die wichtigsten% Entwicklungsschritte dieser App werden im darauf folgenden Abschnitt beschrieben.%% \\% \begin{figure}[!h]% \centering% \includegraphics[scale = 0.2]{graphics/ScannAppScreen_1.png}% \caption{Nüßing-Scan-App}% \label{fig:abb20}% \end{figure}% \section{Beispiel-Anwendung (Scan-App)}\section{Referenz-Anwendung (Scan-App)}% Um ein Cross-Plattform-Entwicklungsframework gut bewerten zu können, ist es notwendig eine App zu% entwickeln, die anspruchsvolle Aufgaben erledigt. Am besten wäre es einen Vergleich zwischen zwei% Versionen einer App ziehen zu können, einer nativ entwickelten Version und einer Version, die mit Xamarin erstellt wurde.% Gut geeignet für den Zweck dieser Arbeit ist eine mobile Anwendung zum Scannen von Barcodes.% Eine solche Anwendung greift auf Hardware-Ressourcen, wie die Kamera des Endgeräts zu.Für den Zweck dieser Arbeit ist es wichtig, eine App zu entwickeln, die Funktionen anbietet, dierepräsentativ für die Kategorie der sogenannten Business Apps sind. Meistens sind es Anwendungen,die in Unternehmen eingesetzt werden, um den Geschäftsprozess zu optimieren. Auf dem Markt gibt es eine Reihe von Applikationen, mit denen man bspw. Produkte aus einem Katalog bestellen kann. Diese Anwendungen zeichnen sich dadurch aus,dass sie mit einem Server (bekannt auch als Backend) mittels Web Services kommunizieren und übereine lokale Datenbank verfügen, so dass App-Daten persistiert werden können. %Solche Anwendungen greifen oft auf Hardware Ressourcen, wie bspw. die Kamera des Endgeräts zu.Repräsentativ für Applikationen, die auf Hardware Ressourcen des Endgerätes zugreifen, bietet dieBeispielapp die Möglichkeit, Barcodes mithilfe der Smartphonekamera zu scannen.Ein App-Benutzer kann einenBarcode scannen, anschließend wird der Barcode beim Server überprüft und es werden Informationenüber das Produkt auf dem Bildschirm des Smartphones angezeigt.Der User hat somit die Möglichkeit, unterschiedliche Artikel zubestellten.% Nüßing GmbH ist Vollsortimenter für Industrie und Handwerk in den Bereichen Beschlagsysteme,% Bauelemente und Werkzeuge. Nüßing bietet seinen Kunden die Möglichkeit an, Artikel mithilfe einer% App zu bestellen.% Dank dieser Nüßing Scan-App kann ein Handwerker, nach einer einmaligen Registrierung die gewünschten% Produkte bestellen. Der Kunde muss lediglich den Barcode des Artikels mit der Kamera des% Smartphones einscannen. Anschließend wird der Barcode beim Server überprüft und falls der Artikel% erkannt wurde, kann der Kunde die gewünschte Menge bestellen.% Bei schlechten Lichtverhältnissen lässt sich die Blitzlicht-Lampe hinzuschalten und im Falle eines% defekten Barcodes, hat der Kunde auch die Möglichkeit es manuell einzugeben, indem der Kunde die% Barcodenummer in das dafür vorgesehene Feld einträgt. Nachdem der Kunde eine sechsstellige Zahl% eingetippt hat, wird automatisch eine Anfrage an den Server gesendet und falls ein Artikel gefunden% wurde, erscheint eine Beschreibung des Artikels auf dem Bildschirm und der Kunde kann es bestellen% (siehe Abb.\ref{fig:abb20}).% \begin{figure}[!h]% \centering% \includegraphics[scale = 0.13]{graphics/NuessingReferenzApp_2.png}% \caption{Nüßing-FensterbankApp Fensterbank Eigenschaften}% \label{fig:abb21}% \end{figure}% \\Die Nüßing% Scan-App (siehe Abb.\ref{fig:abb20}) ist die von der Firma Sunato GmbH entwickelten Lösung dieses% Problems.% Es ist eine Applikation (für die Apple iOS Plattform), mit der ein Kunde% (Handwerker) ganz bequem eine Fensterbank bestellen kann, indem er die Maße, sowie gewünschte% Eigenschaften (Farbe, Antidröhn, Endstücke etc.) der Fensterbänke einfach in sein Smartphone oder% Tablet eingibt (siehe Abb.\ref{fig:abb21}).% Beim Absenden einer Bestellung werden die Daten direkt in das Nüßing ERP übertragen und lösen die% Bestellung und die Fertigung aus.Für die Realisierung des Backends dieser Beispiel-Applikation wird MicrosoftsEnterprise Resource Planning (ERP) Lösung, Dynamics AX, eingesetzt.Die ERP-Software bietet vordefinierte Funktionen für die Branchen Fertigung, Großhandel/Distribution, Einzelhandel undDienstleistungen. Der Zugriff auf AX erfolgt mit dem Dynamics AX Workspace als Desktop Client odermit dem Enterprise Portal for Microsoft Dynamics AX per Browser. Weiterhin ermöglicht Dynamics AXden Zugriff über eine Reihe von programmierbaren Schnittstellen.\\Die Kommunikation zwischen denSmartphones und dem AX-System erfolgt mittels Web Services mithilfe einer Schnittstelle, die in AXdefiniert wurde.\\Wie bereits angesprochen, wird die App mit einer lokalen Datenbank ausgerüstet, die für diedauerhafte Speicherung der Daten sorgt und den Bestellprozess unterstützt.% \\Abhängig von den Anmeldedaten lässt sich die Anwendung entweder im normalen Modus (als normaler% Nüßing Kunde) oder im Mitarbeiter Modus. Im Mitarbeiter Packet kann der Nüßing Angestellte% Bestellungen für verschiedene Kunden abgeben.% \cite{Sunato} % \begin{figure}[!h]% \centering% \includegraphics[scale = 0.5]{graphics/ScanAppBestellung.png}% \caption{Nüßing-Scan-App Bestellungspositionen}% \label{fig:abb22}% \end{figure}% \subsection{Technische Grundlagen für die Erstellung der Scan-App}% Es gelten folgende technische Voraussetzungen für die ScanApp.% \begin{itemize}%   \item \textbf{Backendkommunikation}\\Die App kommuniziert mit den Backend-Services auf AX-Seite%   über HTTP und JSON. Die Serviceadresse wird in der App fest%   konfiguriert und ist erst durch ein App-Update änderbar.% %   \\\cite{WebServicesScanApp}.%   \item \textbf{Sicherheit}\\Die App unterstützt in Produktion eine HTTPS-Kommunikation. Das%   ermöglicht einen relativ sicheren Betrieb der App in einer unsicheren Umgebung.%   \item \textbf{Anmeldeprozess}\\Die Registrierung dient der eindeutigen Identifikation und%   Freischaltung eines App-Benutzers. Als Anmeldedaten werden Kundennummer und PLZ von dem Benutzer%   beim erstmaligen App-Start eingegeben. Die Daten werden beim Backend überprüft und wenn die%   Registrierung erfolgreich ist, bekommt die App eine gültige GUID. Diese wird als%   Session-ID für die weitere Kommunikation mit dem Backend benutzt und in der App dauerhaft%   gespeichert. Sollte die Anmeldung nicht erfolgreich sein (z.B. Kundennummer falsch), ist die GUID%   auf "`String.Empty"' gesetzt. Auf diesem Weg weist die App den Benutzer hin, dass seine%   Anmeldedaten nicht akzeptiert worden sind und er die Anmeldung wiederholen kann bzw. soll.%   \item \textbf{Bestellprozess}\\%   Bei einem Klick auf den "`Bestellen"' Button werden die Auftragsdaten (Kundennummer,%   Kundenname, Telefon, Lieferterminwunsch, Kommission, Bestellpositionen) an den Bestellservice übermittelt und der Server bestätigt den erfolgreichen Eingang oder gibt, gegebenfalls, Auskunft über einen%   Fehler. Für diesen Zweck wurde eine Rückgabestruktur mit Rückgabecodes von dem Server%   definiert.%    Das Lieferdatum wird automatisch auf das Tagesdatum gesetzt. Sollte der Benutzer sich%    ein anderes Lieferdatum wünschen, kann er den Liefertermin auf das von ihm ausgewählte Datum%    setzen.%    Diese Daten werden von der App gespeichert und bei den weiteren Bestellungen als Stammdaten mit%    den gespeicherten Werten vorbelegt. Im Gegensatz dazu wird der Wert einer bei der Bestellung%    angegebenen Kommission nicht gespeichert und muss bei jeder Bestellung neu angegeben werden.% \end{itemize}% \subsection{Erweiterung der Scan-App}% Die ScanApp soll auf Xamarin migriert und um folgende Funktionalitäten erweitert werden:% \begin{itemize}%   \item Die Bestelldaten sollen um ein Feld "`Email"' erweitert werden. Die Emailadresse soll%   ebenso wie Name und Telefonnummer nach einmaligen Eintippen gespeichert bleiben und bei jeder%   Bestellung mitgesendet werden. Auf diese Weise kann Nüßing eine Eingangsbestätigung an diese%   Emailadresse schicken.%   \item Wenn man im Mitarbeiterpaket eine Kundennummer eingibt, soll der Name des Kunden mit dieser%   Kundennummer aus dem AX-System geholt und angezeigt werden. Ziel dieser Erweiterung ist es  zu%   vermeiden, dass der falsche Kunde als Käufer eingetragen wird, im Falle eines Zahlendrehers.%   \item Die Menüsteuerung soll geändert werden. Anstatt die bisherige vertikale tab-basierte%   Navigation soll ein barrierefreies horizontales Dropdown Navigationsmenü (ähnlich wie das%   sogenannte Hamburger-Menu) angewendet werden. Das würde eine Erweiterung der Navigationspunkte des Menüs erlauben. Bei dieser%   Menüvariante ist das Menü versteckt und wird erst beim Tippen auf den Menü-Button (oder beim%   Wischen von links nach rechts) aufgeklappt.%   \item Außer Scannen, manuelle Eingabe, Warenkorb und Kontakseite, soll man noch die%   Möglichkeit haben, zu drei weitere Seiten zu navigieren:%   \begin{itemize}%     		\item Favoriten%     		\item Scan Historie - hier werden die gescannten Barcodes aufgelistet.%     		\item Abgeschlossene Bestellungen%   \end{itemize}%   \item Änderung bei manuellen Eingabe: Es soll möglich sein eine beliebigstellige Barcodenummer%   eintippen und überprüfen können (Zur Zeit ist es auf einen sechsstelligen Barcode eingeschränkt). %   \item Änderung bei der Überprüfung eines Barocodes: Es gibt unterschiedliche Artikel, die%   die gleiche Barcodenummer haben. In solchen Fällen sollen die Artikel aufgelistet werden, so dass%   der Kunde den passenden Artikel auswählen kann.% \end{itemize}\section{Anwendungsszenario}Neben triviale Anforderungen, wie bspw. die App soll nummerische, sowie alpha-nummerischeEingabefelder anbieten, gibt es einige sehr anspruchsvolle und für die Evaluierung desCross-Plattform-Entwicklung-Frameworks interessante Anforderungen.\newline \textbf{Problemstellung:} Die Scan-App ist vorwiegend für Handwerker vorgesehen, die oftKunden von großen Vorsortimenter sind. Sie müssen oft Produkte anhand einer Barcodenummer bestellen.Das Aufschreiben dieser Barcodenummern auf Papier ist mühsam und fehlerträchtig. Eine Bestellungkann dann telefonisch oder online abgeschlossen werden.\\Im ersten Fall muss der Kunde hoffen, dassdie Telefonleitungen nicht besetzt sind und außerdem kann die akustische Übermittlung derBarcodenummern zu weiteren Problemen führen.\\Eine Bestellung online abzuschließen, scheint diesichere Variante zu sein, allerdings muss der Kunde sich erstmal einen Zugang zu einem PC mitInternetanschluss erschaffen, sich anschließend anmelden, die benötigten Formulare ausfüllen underst dann kann der Kunde die Bestellung abschließen.\newline \textbf{Motivation:} Entlastung der Kunden.\newline \textbf{Lösung:} Eine mobile Anwendung, mit der Handwerker sofort und direkt vor OrtBarcodes mit ihren Smartphones einscannen können und anschließend eine Bestellung quasi perKnopfdruck absenden können.\section{Anwendungsfälle}\label{Anwendungsfälle}Im Folgenden werden Anwendungsfälle (UseCases) der Scan-App aufgeführt (siehe Abb. \ref{fig:abb20}). Mithilfe dieser Use Cases werden dieEigenschaften und funktionale Anforderungen an die Scan-App ermittelt. Ein Scan-App Benutzer ist einMensch, der durch die App Informationen über Produkte anhand einer Barcodenummer (eingescannt odermanuell eingegeben) bekommen kann und anschließend das entsprechende Produkt bestellen kann.\begin{figure}[!h]\centering\includegraphics[scale = 0.65]{graphics/UseCases.png}\caption{Anwendungsfälle der ScanApp}\label{fig:abb20}\end{figure}\subsection{Use Case: Einmalige Registrierung}\label{Registrierung}% \textbf{Titel: Einmalige Registrierung}\textbf{Akteure:} Benutzer der App, der Server auf der Backendseite\newline \textbf{Ziel:} Der Benutzer meldet sich an und ist somit für die Benutzung der Appfreigeschaltet.% \newline \textbf{Auslöser:} Der Benutzer möchte die App freischalten.\newline \textbf{Vorbedingungen:} Die Scan-App wurde heruntergeladen und installiert.\newline \textbf{Nachbedingungen:} Der User kann die App benutzen.\newline\newline \textbf{Erfolgsszenario:} \begin{enumerate}  \item Der User tippt seine Kundennummer und seine Postleitzahl ein und  auf drückt den "`Registrieren"'-Button.  \item Beim Backend werden die Angaben des Benutzers überprüft.  \item Der Server bestätigt die Registrierung und sendet eine eindeutige GUID.  \item Das System speichert diese GUID in der Datenbank der Scan-App.  \item Das System zeigt die "`Menu"'-Ansicht der App an. D.h. die App wird "`frei  geschaltet"'.\end{enumerate} \textbf{Fehlerfälle:} 1.a) Der Server gibt Auskunft über einen Fehler. Weiter -> Erfolgsszenario: 1.\subsection{Use Case: Barcode scannen}% \textbf{Titel:} Barcode scannen\textbf{Akteure:} Benutzer der App\newline \textbf{Ziel:} Der Benutzer hat einen Barcode mithilfe seiner Smartphonekamera eingescannt.% \newline \textbf{Auslöser:} Der Benutzer möchte die App freischalten.\newline \textbf{Vorbedingungen:} Die Scan-App wurde installiert und freigeschaltet.\newline \textbf{Nachbedingungen:} Der Barcode wurde eingescannt und dauerhaft auf dem Gerätgespeichert.\newline\newline \textbf{Erfolgsszenario:} \begin{enumerate}  \item Der User navigiert zu der "`Scan"'-Ansicht.  \item Das System zeigt die Ansicht an.  \item Der Benutzer drückt den "`Starte Scanner"'-Button.  \item Das System startet die Kamera des Geräts.  \item Der Benutzer richtet den Fokus der Kamera auf den Barcode.  \item Der Barcode wird erfasst.  \item Das System zeigt den gescannten Barcode wird an.  \item Das System speichert den Barcode in der Datenbank der App.\end{enumerate} \textbf{Fehlerfälle:} 5.a) Barcode konnte nicht eingescannt werden. Weiter -> Erfolgsszenario: 2.\subsection{Use Case: Barcode manuell eingeben}\textbf{Akteure:} Benutzer der App\newline \textbf{Ziel:} Der Benutzer möchte einen Barcode manuell eintippen.\newline \textbf{Vorbedingungen:} Die Scan-App wurde installiert und freigeschaltet.\newline \textbf{Nachbedingungen:} Der Barcode wurde dauerhaft auf dem Gerätgespeichert.\newline\newline \textbf{Erfolgsszenario:} \begin{enumerate}  \item Der User navigiert zu der "`Manuelle Eingabe"'-Ansicht.  \item Das System zeigt die Ansicht an.  \item Der Benutzer tippt die Barcodenummer in das dafür vorgesehene Feld ein.  \item Das System speichert den Barcode in der Datenbank der App.\end{enumerate} \subsection{Use Case: Barcode beim Server überprüfen}\textbf{Akteure:} Benutzer der App, Server\newline \textbf{Ziel:} Der Benutzer möchte Information über einen Barcode bekommen.\newline \textbf{Vorbedingungen:} \begin{itemize}   \item Die Scan-App wurde installiert und freigeschaltet.  \item Der Benutzer befindet sich in der "`Scan"'- oder"`Manuelle Eingabe"'-Ansicht der App und Barcodenummer wurde eingescannt bzw. manuell eingegeben.\end{itemize} \textbf{Nachbedingungen:} Es werden Informationen über das Produkt, zu dem dieBarcodenummer gehört, angezeigt.\newline\newline \textbf{Erfolgsszenario:} \begin{enumerate}  \item Der Benutzer drückt den "`Code Abfrage"'-Button.  \item Die Barcodenummer wird beim Server überprüft.  \item Der Server gibt Auskunft über die Abfrage.  \item Das System zeigt auf dem Bildschirm des Smartphones Informationen (Beschreibung,  verfügbare Menge) über das Produkt an.\end{enumerate} \textbf{Fehlerfälle:} 2.a) Ein Netzwerk ist aufgetreten. Weiter -> Erfolgsszenario: 1.\subsection{Use Case: Produkt in den Warenkorb legen}\textbf{Akteure:} Benutzer der App\newline \textbf{Ziel:} Der Benutzer möchte einen Artikel in den Warenkorb legen.\newline \textbf{Vorbedingungen:}\begin{itemize}   \item Die Scan-App wurde installiert und freigeschaltet.  \item Der Benutzer befindet sich in der "`Produkt Information"'-Ansichtder App, eine Barcodenummer wurde eingescannt bzw. manuell eingegeben und beim Server überprüft.  \item Aus der Information über das Produkt ist zu entnehmen, dass das Produktverfügbar ist.\end{itemize} \textbf{Nachbedingungen:} Das Produkt befindet sich im Warenkorb.\newline\newline \textbf{Erfolgsszenario:} \begin{enumerate}  \item Der User gibt die gewünschte Menge in das dafür vorgesehene Feld ein.  \item Der Benutzer drückt den "`Warenkorb"'-Toolbarbutton.  \item Das System bestätigt durch ein Popup Fenster das Einfügen des Produkts in den Warenkorb.\end{enumerate} \subsection{Use Case: Produkt zu den Favoriten hinzufügen}\textbf{Akteure:} Benutzer der App\newline \textbf{Ziel:} Der Benutzer möchte einen Artikel zu seinen Favoriten hinzufügen.\newline \textbf{Vorbedingungen:} \begin{itemize}   \item Die Scan-App wurde installiert und freigeschaltet.  \item Der Warenkorb ist nicht leer\end{itemize} \textbf{Nachbedingungen:} Das Produkt befindet sich in der Liste der Favoriten.\newline\newline \textbf{Erfolgsszenario:} \begin{enumerate}  \item Der User navigiert zum Menupunkt "`Warenkorb ansehen"'.  \item Das System zeigt die "`Warenkorb"'-Ansicht an. Die Bestellungspositionen erscheinen in Form  einer Liste.  \item Der Benutzer tippt auf den gewünschten Artikel.  \item Das System öffnet eine neue Ansicht, in der der User Möglichkeit hat eine neue Menge  anzugeben, das Produkt aus der Warenkorbliste zu entfernen oder es zu der Liste seiner Favoriten hinzuzufügen.  \item Der Benutzer drückt den "`Favoriten"'-Toolbarbutton.  \item Das System fügt das Produkt zu der Liste der Favoriten hinzu.\end{enumerate}\textbf{Fehlerfälle:} 6.a) Das System meldet durch ein Popup Fenster, dass das Produkt sich bereits in der Liste derFavoriten befindet.\subsection{Use Case: Produkt aus dem Warenkorb entfernen}\textbf{Akteure:} Benutzer der App\newline \textbf{Ziel:} Der Benutzer möchte einen Artikel aus dem Warenkorb entfernen.\newline \textbf{Vorbedingungen:}\begin{itemize}   \item Die Scan-App wurde installiert und freigeschaltet.  \item Der Warenkorb ist nicht leer\end{itemize} \textbf{Nachbedingungen:} Das Produkt befindet sich nicht mehr im Warenkorb.\newline\newline \textbf{Erfolgsszenario:} \begin{enumerate}  \item Der User navigiert zum Menupunkt "`Warenkorb ansehen"'.  \item Das System zeigt die "`Warenkorb"'-Ansicht an. Die Bestellungspositionen erscheinen in Form  einer Liste.  \item Der Benutzer tippt auf die gewünschte Bestellungsposition.  \item Das System öffnet eine neue Ansicht, in der der User Möglichkeit hat eine neue Menge  anzugeben, das Produkt aus der Warenkorbliste zu entfernen oder es zu der Liste seiner Favoriten hinzuzufügen.  \item Der Benutzer drückt den "`Löschen"'-Toolbarbutton.  \item Das System entfernt das Produkt aus dem Warenkorb und öffnet die "`Warenkorb"'-Ansicht.\end{enumerate} \subsection{Use Case: Die Menge einer Bestellungsposition ändern}\textbf{Akteure:} Benutzer der App\newline \textbf{Ziel:} Der Benutzer möchte die Menge einer Bestellungsposition ändern.\newline \textbf{Vorbedingungen:}\begin{itemize}   \item Die Scan-App wurde installiert und freigeschaltet.  \item Der Warenkorb ist nicht leer\end{itemize} \textbf{Nachbedingungen:} Die neue Menge der Bestellposition wurde gespeichert.\newline\newline \textbf{Erfolgsszenario:} \begin{enumerate}  \item Der User navigiert zum Menupunkt "`Warenkorb ansehen"'.  \item Das System zeigt die "`Warenkorb"'-Ansicht an. Die Bestellungspositionen erscheinen in Form  einer Liste.  \item Der Benutzer tippt auf die gewünschte Bestellungsposition.  \item Das System öffnet eine neue Ansicht, in der der User Möglichkeit hat eine neue Menge  anzugeben, das Produkt aus der Warenkorbliste zu entfernen oder es zu der Liste seiner Favoriten hinzuzufügen.  \item Der Benutzer tippt eine neue Menge in das dafür vorgesehene Feld ein.  \item Der Benutzer drückt den "`Zurück"'-Button. D.h. der Benutzer möchte zurück zu der  "`Warenkorb"'-Ansicht navigieren.  \item Beim Verlassen der Ansicht speichert das System die neue Menge.  \item Das System zeigt die aktualisierte "`Warenkorb"'-Ansicht an.\end{enumerate} \subsection{Use Case: Bestellungsdaten eingeben und speichern}\textbf{Akteure:} Benutzer der App\newline \textbf{Ziel:} Der Benutzer möchte seineBestellungsdaten ausfüllen, weil die erforderlich für das Absenden einer Bestellung sind.\newline \textbf{Vorbedingungen:} Die Scan-App wurde installiert und freigeschaltet.\newline \textbf{Nachbedingungen:} Die Bestellungsdaten wurden in der App-Datenbank gespeichert.\newline\newline \textbf{Erfolgsszenario:} \begin{enumerate}  \item Der User navigiert zum Menupunkt "`Bestellungsdaten"'.  \item Das System zeigt die "`Bestellungsdaten"'-Ansicht an.  \item Der Benutzer füllt die Eingabefelder (Name, Email, Telefonnummer, Lieferadresse) aus.  \item Der Benutzer drückt den "`Speichern"'-Toolbarbutton.  \item Das System speichert die Daten und bestätigt es mit einem Popup Fenster.\end{enumerate}\textbf{Fehlerfälle:} 5.a) Das System meldet durch ein Popup Fenster, dass die eingegebene Daten nicht den korrektenFormat haben. Weiter -> Erfolgsszenario: 3.\subsection{Use Case: Bestellung abschließen}% \textbf{Titel: Bestellung abschließen}\textbf{Akteure:} Benutzer der App, der Server auf der Backendseite\newline \textbf{Ziel:} Der Benutzer möchte eine Bestellung abschließen.% \newline \textbf{Auslöser:} Der Benutzer möchte eine Bestellung abschließen.\newline \textbf{Vorbedingungen:}\begin{itemize}   \item Die Scan-App wurdeinstalliert und freigeschaltet.  \item Der Warenkorb ist nicht leer  \item Die Bestellungsdaten wurden ausgefüllt und gespeichert.\end{itemize} \textbf{Nachbedingungen:} Die Bestellung wurde abgeschlossen.\newline\newline \textbf{Erfolgsszenario:} \begin{enumerate}  \item Der Benutzer navigiert zu der "`Warenkorb"'-Ansicht.  \item Das System öffnet die Ansicht.  \item Der User drückt den "`Absenden"'-Button und die Bestellung wird gesendet.  \item Die Daten werden beim Server überprüft.  \item Der Server meldet, dass die Bestellung erfolgreich abgeschlossen wurde und sendet eine  BestellungsID.  \item Das System informiert den Benutzer durch ein Popup Fenster, dass die Bestellung erfolgreich  abgeschlossen wurde.  \item Das System speichert die Bestellungsinformationen samt BestellungsID in der Datenbank der  Scan-App.\end{enumerate} \textbf{Fehlerfälle:} 5.a) Der Server gibt Auskunft über einen Fehler. Das System informiert den Benutzer über den Fehler.Weiter -> Erfolgsszenario: 2\section{Anforderungen an die App}\label{Anforderungsanalyse}%\newline \textbf{Anforderungen an die App:}Aus den vorgestellten Use Cases sind folgende Anforderungen an die App abgeleitet worden:\\A 1. Nach der Installation der App, wird der Benutzeraufgefordert sich zu Registrieren und erst dann wird die Anwendung freigeschaltet.\\A 2. Bei der Registrierung wird beim Backend eine eindeutige GUID generiert, die in der AppDatenbank gespeichert wird. Diese GUID wird als Session-ID für die weitere Kommunikation mit demBackend benutzt.\\A 3. Eine "`frei geschaltete"' Scan-app startet mit der "`Menü"'-Ansicht.\\A 4. Für die Menüführung wird ein barrierefreies horizontales Dropdown Navigationsmenü (bekanntauch als Hamburger-Menu) angewendet. Das würde eine Erweiterung der Navigationspunkte desMenüs erlauben. Bei dieser Menüvariante ist das Menü versteckt und wird erst beim Tippen auf denMenü-Button (oder beim Wischen von links nach rechts) aufgeklappt.\\A 5. Das Menü enthält folgende Navigationspunkte:\begin{itemize}  \item Bestellungsdaten (Persönliche Daten)  \item Bestellungskopfdaten  \item Scannen  \item Manuelle Eingabe  \item Favoritenlisten  \item Warenkorb Ansehen  \item Scan Historie  \item Abgeschlossene Bestellungen  \item Kontakt\end{itemize}A 6. Der Benutzer muss seine persönliche Daten (Name, Email, Telefonnummer) ausfüllen undspeichern, bevor er eine Bestellung abschließen kann.\\A 7. Die App überprüft die Eingaben des Benutzers und weist den User auf ungültige Eingaben hin.Zum Beispiel eine Email Adresse ohne "`@"'-Zeichen.\\A 8. Die Bestellungskopfdaten sind optional. Da kann der User einen expliziten Lieferterminangeben, sowie weitere Notizen an das Backend übermitteln, wie z.B. eine andere Lieferadresse.\\A 9. Die optionalen Bestellungskopfdaten werden bei einem erfolgreichen Abschluss einer Bestellungauf die Default-Werte (Kein expliziter Liefertermin, Notiz wird auf String.Empty gesetzt)zurückgesetzt.\\A 10. Die App bietet eine "`Kontakt"'-Ansicht mit einer Web-View an, in der der User dieMöglichkeit hat mit einem Klick auf den entsprechenen Link den Support anzurufen oder eine Email zu verfassen.\\A 11. Der User kann einen Barcode mithilfe seiner Smartphonekamera scannen oder es manuelleingeben.\\A 12. Die App speichert alle eingescannten oder manuell eingegebenen Barcodenummern, die beimServer überprüft worden sind und führt eine Scan Historie, in der Datum und Zeit (sekundengenau)der Barcodeüberprüfung vermerkt werden.\\A 13. Wenn unter einer Barcodenummer mehrere Artikel gefunden werden, werden die Beschreibungender Produkte aufgelistet, so dass der Benutzer den passenden Artikel auswählen kann. \\A 14. Der User kann die Scanhistorieansehen und bei Klick auf eine Barcodenummer, wird die Nummer erneut beim Backend überprüft, so dass bei Verfügbarkeit des Produkts es in den Warenkorbgelegt werden kann.\\A 15. In der "`Warenkorb"'-Ansicht hat der User die Möglichkeit auf eine Bestellposition zuklicken und anschließend die Menge ändern, die Bestellposition löschen oder das Produkt zu seiner Favoritenhinzufügen. \\A 16. In der "`Favoriten"'-Ansicht sieht man eine Beschreibung der Favoriten-Artikel und bei Klickauf einen Artikel, wird das Produkt, identisch wie bei der Scanhistorie, beim Server überprüft und derApp-Nutzer hat dann die Möglichkeit, es zum Warenkorb hinzuzufügen. \\A 17. Die Applikation kommuniziert mittels Web Services mit dem Server.\\A 18. Die App generiert mithilfe des Verschlüsselungsalgorithmus SHA-256 einen Adresszusatz fürdie Web Services URI, um eine sichere Kommunikation mit dem Backend zu ermöglichen.\\A 19. Die Anwendung kann auf die Kamera, inkl. das Blitzlicht des Gerätes zugreifen.\\A 20. Die Daten können permanent gesichert werden.\\A 21. Die App, kann in den plattformeigenen App-Stores (Google Play Store und Apples App Store)veröffentlicht werden.\newline \textbf{Ausgrenzungen:}\newline L 1.Die Entwicklung des Backends gehört nicht dazu.\newline \textbf{Annahmen:}\newline P 1. Jeder Kunde hat einen Smartphone mit Zugang zum mobilen Internet. 