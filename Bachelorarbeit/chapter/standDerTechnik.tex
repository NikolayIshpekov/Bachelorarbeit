\chapter{Cross-Plattform-Entwicklung von mobilen Anwendungen und Stand der Technik}In diesem Kapitel wird erörtert, was unter dem Begriff Cross-Plattform-Entwicklung zu verstehen istund es werden die aktuellsten Alternativen der herkömmlichen App Entwicklung vorgestellt.\section{Begriffsklärung}Heutzutage ist die Appvielfalt so groß, dass Entwickler sich etwas Besondereseinfallen lassen müssen, damit ihre Apps die Aufmerksamkeit der Verbraucher auf sich ziehen\cite{Mobilbranche}. Eine App mit einem Alleinstellungsmerkmal zu entwickeln ist keine einfacheAufgabe und erfordert viel Kreativität. Eine weitere Möglichkeit, zum Erfolg zu kommen, istdie App möglichst weit zu verbreiten. Auf je mehr Marktplätze man setzt, desto mehr Chancen aufErfolg hat man. So entsteht die Anforderung, dass eine App für mehrere Plattformen verfügbar seinsoll \cite{CompWoche}. \begin{figure}[!h]\centering\includegraphics[scale = 0.5]{graphics/TotalNumberOfApps.png}\caption{Anzahl der Apps in den verschiedenen App Stores (\cite{Mobilbranche})}\label{fig:abb30}\end{figure}Es lässt erahnen, dass dies mit viel Aufwand und Kosten verbunden ist und man hat keineGarantie, dass es sich am Ende auszahlt.  Wie bereits im vorherigen Kapitel erörtert wurde,gibt es für jede Plattform eine andere Programmiersprache mit plattformspezifischen APIs. Es wirdalso vorausgesetzt, dass der Entwickler mehrere Programmiersprachen und plattformspezifischeEntwicklungsansätze beherrschen muss um eine App für mehrere Plattforme zu erstellen.\\Andererseitswerden bei der nativen App Entwicklung für die verschiedenen Betriebssystemen die gleichen Architekturmusterangewendet.\\Die Idee bei der \textbf{Cross-Plattform-Entwicklung} ist folgende:\begin{itemize}  \item Eine App soll einmal plattformübergreifend entwickelt werden.  \item Die App soll gleichzeitig auf mehreren Betriebssystemen lauffähig sein.\end{itemize}Das wäre ein gravierender Vorteil im Vergleich zurnativen App Entwicklung, bei der je eine Lösung pro Plattform benötigt wird. Das würde Zeit undKosten sparen.\section{Vorstellung und Bewertung der aktuellen Cross-Plattformen}\begin{figure}[!h]\centering\includegraphics[scale = 0.5]{graphics/WebAppVsNativeApp.png}\caption{Architektur einer plattformübergreifender App (\cite{iFactr})}\label{fig:abb13}\end{figure}Mittels leicht zu erlernende und populäre Programmiersprachen, wie HTML, CSS und JavaScript lassensich Anwendungen entwickeln - die auch außerhalb eines Browsers lauffähig sind. Dieser innovativeAnsatz hat eine Alternative zur nativen App Entwicklung geschaffen. Im Folgenden werden dieaktuellsten plattformübergreifende Entwicklungsansätze vorgestellt.\subsection{Web Apps}Eine Web Applikation läuft auf allen Plattformen mit einer einzigen Codebasis. Apps dieser Art könnenauf jedem beliebigen mobilen Endgerät ausgeführt werden, unabhängig von dem Betriebssystem desSmartphones. Es wird lediglich einen Internetbrowser benötigt.  Die Entwicklung von Web Anwendungen basiertauf der Grundlage von HTML, CSS oder JavaScript.Es wird keine Installation benötigt und die Apps werden über das Internet zur Verfügunggestellt. Auf diese Weise umgehen sie die Restriktionen und Rahmenbedingungen plattformspezifischerMarktplätze.Allerdings weisen solche Apps Mängel auf, wenn es um die Performance geht und der Zugriff aufHardware ist stark eingeschränkt.\\Aus diesem Grund hat man sich Gedanken gemacht, die Vorteile derplattformübergreifenden Web Apps und der nativen App Entwicklung zu kombinieren. Die darausentstandene Anwendungen werden als \textbf{Hybrid-Apps} bezeichnet. Ein Großteil solcherApplikationen wird mit Web-Technologien programmiert, gleichzeitig hat die App aber auch einennativen Teil, der direkt auf dem Betriebssystem läuft und die Verbindung zu den Hardwareressourcenermöglicht. Hybrid-Apps werden im Browser ausgeführt, aber können trotzdem Features der Hardware unddes Systems nutzen.\cite[106]{App4U}.\subsection{PhoneGap}PhoneGap ist ein Open-Source-Projekt der Firma Nitobi Software zur Erstellungplattformübergreifender Anwendungen für mobile Endgeräte. Mittlerweile ist es Eigentum von Adobe undbasiert auf der Open Source Apache Cordova Projekt. PhoneGap ermöglicht das Erstellen einer Appmittels HTML, CSS und JavaScript und die Bereitstellung (Deployen) der App auf ein Gerät, ohne dassdabei die nativen Eigenschaften der App verloren gehen.\\PhoneGap ist kostenlos zuerwerben. Allerdings hat Adobe auch eine Enterprise Version von PhoneGap annonciert, bei derFeatures via Adobes Marketing Cloud eingebunden werden sollen (\cite{10BestCPMDT}).\\Wie bereits erwähnt werden Anwendungen in HTML, CSS und JavaScript entwickeltund mithilfe von plattformspezifischen Anwendungsvorlagen in native Anwendungen übersetzt. Deswegenist PhoneGap ganz gut für Entwickler geeignet, die sich mit Web Frameworks und Werkzeugen (Tools)auskennen.Die wichtigsten mobilen Betriebssysteme, wie iOS, Android, Windows Phone und Blackberry OS werden von PhoneGap unterstützt.\\Die von PhoneGap bereitgestellten Anwendungsvorlagenbeinhalten einen plattformspezifischen Anwendungs-Container, in dem Bibliotheken und Source-Code derjeweiligen Zielplattform enthalten sind und ein www-Verzeichnis, in dem diePhoneGap-JavaScript-Bibliothek und eine index.html-Datei liegen. Der Zugriff auf native Funktionengeschieht über die PhoneGap-JavaScript-Bibliothek.\\Seitdem derCloud-Dienst PhoneGap Build angeboten wird, wird keine lokale Installation derSoftware-Entwicklungswerkzeuge (Android SDK für Android, Xcode für iOS etc.) für die jeweiligePlattform vorausgesetzt, um die Anwendung für die jeweilige Zielplattform zu übersetzen. Die Appkann entweder verpackt als zip-Datei oder verknüpft als Git-Repository auf einen zentralen Serverhochgeladen werden und wird dort automatisiert für alle unterstützten Plattformen kompiliert. Dankdieses Cloud-Services werden alle Apps mit dem aktuellsten SDK der Zielplattformgebildet und der Programmierer kann sich auf die Entwicklung der Anwendung mittelsWeb Technologien konzentrieren.\\Für die Benutzung von PhoneGap Build ist lediglich eine Adobe ID notwendig bzw. Name und E-Mailadresse. Darüber hinaus lassen sich JavaScript-Libraries wie Sencha Touch und jQuery einbinden. PhoneGap bietet einen Simulator an, der auf Basis von Adobe AIR entwickelt wurde.\\Für einen erfolgreichen iOS-Build ist es erforderlich, einen Developer Key imPhoneGap-Nutzeraccount zu hinterlegen. Der Cloud-Dienst baut dann separate Apps für die jeweilige Plattform. DiePhoneGap-Apps werden im AppStore und bei Google Play wie native Apps akzeptiert. Als Nachteil musshier erwähnt werden, dass das Debuggen schwieriger ist im Vergleich zur nativen App Entwicklung.\subsection{Appcelerator Titanium Mobile}Appcelarator Titanium Mobile (im Folgenden Titanium genannt) ist ein Open-Source-Projekt der FirmaAppcelerator Inc. zur Entwicklung nativer mobiler Anwendungen mittels Webtechnologien. Um Titaniumnutzen zu können braucht man mindestens einen Indie Account, der 39\$ im Monat kostet.\\Im Gegensatzzu PhoneGap verwendet Titanium keine Browserkomponente, sondern einen JavaScript-Interpreter, um Anwendungesinhalte darzustellen. Als Programmiersprache wird JavaScript eingesetzt und es wird eineTitanium JavaScript API verwendet. Der JavaScript-Code wird für die jeweilige Plattform in einennativen Anwendungs-Container verpackt und zur Laufzeit von der im Anwendungs-Container enthaltenenJavaScript-Engine interpretiert.\\Außer iOS und Android unterstützt Titanium seit 2014 auch WindowsPhone, allerdings ist es noch eine Beta Version (\cite{AppTitanium}). Funktionen der Titanium API zurEntwicklung der graphischen Benutzeroberfläche werden direkt auf native Betriebssystemfunktionen abgebildet. Im Vergleich zu echten nativen Anwendungen entstehtein geringer Leistungsverlust bei der Darstellung der graphischen Oberfläche. Wenn eine bestimmteGUI-Komponente auf der einen Plattform, aber nicht auf der anderen Plattform existiert, ist eineFallunterscheidung im Quellcode notwendig.\\Zur Entwicklung einer Titanium Anwendung werden dieentsprechenden Plattform-SDKs und für iOS ein Apple-OS-X-Rechner benötigt. Titanium bietetdie Entwicklungsumgebung Titanium Studio an, die auch mit einem Emulator zum Testen ausgestattetist.\cite[172]{SmMApps}\subsection{Xamarin}Xamarin ist ein US-amerikanischesSoftwareunternehmen mit Sitz in San Francisco.Xamarin bietet eine Entwicklungsumgebung Xamarin Studio und lässt sich auch alternativ inVisual Studio als Plugin einbinden. Mit Xamarin.iOS und Xamarin.Android lassen sich native iOS,Android und Windows Phone Apps in einer einzigen Sprache, nämlich C\# programmieren. Grundlagehierfür ist das Open-Source-Projekt \textbf{Mono}. Mono ermöglicht die Nutzung von C\# und .NET auf nicht-Windows Plattformen. Hierbeiwird für jede Plattform spezifisch die UI in C\# implementiert.Daraus entstehen native Oberflächen. Bei Android passiert das zur Laufzeit und bei iOS während desKompiliervorgangs. Offensichtlich ist das ein großer Vorteil gegenüber einer plattformspezifischen Entwicklung. So wird anstelle von Java, Objective-C und C\# Know-how lediglich Letzteres benötigt (siehe Abb.\ref{fig:abb2}).\\Xamarin vertreibt Entwicklungswerkzeuge, mit denen sich auf Basis desselben C\#- Codes Apps für iOS, Android, Windows Phone und sogar noch Mac OS X und Windows-Systeme  erstellen  lassen können.  Darüber hinaus ist das Unternehmen auch maßgeblich in die Entwicklung der bereits erwähnten  freien .NET-Implementierung Mono involviert.\begin{figure}[!h]\centering\includegraphics[scale = 0.5]{graphics/XamarinForms1.png}\caption{Xamarin (\cite{XAM})}\label{fig:abb2}\end{figure}\subsection{iFactr}Ein weiteres Frameworks, mit dem man plattformspezifische Anwendungen erstellen kann ist iFactr. Mit iFactr haben Entwickler die Möglichkeit Business Apps sehr schnell zu erstellen. LautExperten ist eine Einarbeitungszeit innerhalb drei Tagen ausreichend um Apps mit iFactr zuentwickeln.Mit einer einzigen .NET-Codebasis laufen iFActr-Apps auf mehreren Plattformen.Es basiert auf .NET und Mono und benutzt Frameworks wie ASP.NETund Windows Phone SDK sowie auch Xamarin.iOS und Xamarin.Android, die Zugriff zuplattformspezifischen APIs von C\# und .NET bereitstellen.\\Wie auf Abb.\ref{fig:abb14} zu sehenist, benutzt iFactr das Open Source Model-View-Controller Framework Monocross. Mit Monocross werdenGeschäftslogik- (Controller) und Data-Code (Model) einmal implementiert und (plattformübergreifend)geteilt und die Views werden plattformspezifisch erstellt (siehe \ref{fig:abb15}). Die iFactrAbstraktionsschicht, die sich oberhalb der Monocross-Schicht befindet, ist dafür designed undoptimiert worden, um datengesteuerte UIs zu erstellen.\\Wie man sieht, arbeitet iFactr sehr eng mitanderen Cross-Plattform Frameworks zusammen.iFactr nutzt nicht nur Xamarin, sondern kann auch die SAP Mobile Plattform fürIntegrationsmiddleware oder JQuery Mobile für die Erstellung von HTML5 UIs als Alternative von iFactr UI Abstraktions APIsbenutzen. \begin{figure}[!h]\centering\includegraphics[scale = 0.7]{graphics/ifactr2.png}\caption{iFactr (\cite{iFactr})}\label{fig:abb14}\end{figure}\begin{figure}[!h]\centering\includegraphics[scale = 0.7]{graphics/monocross.png}\caption{Monocross (\cite{iFactr})}\label{fig:abb15}\end{figure}\cite{10BestCPMDT}\section{Cross-Plattform Auswahl}Die hybride Anwendungsentwicklung eignet sich gut für Anwendungen, die keine besonders hohenAnsprüche an die Rechen-oder Grafikleistung (wie z.B. 3D-Spiele) stellen. Frameworks wie PhoneGapoder Appcelerator Titanium Mobile bieten durch die Plattformunabhängigkeit einen Vorteilgegenüber der nativen App Entwicklung. Cross-Plattform-Frameworks sind allerdings noch relativ jungund daher in manchen Bereichen noch nicht ausgereift. Das zeigt sich in der teilweiseunterschiedlichen Abbildung der JavaScript-Funktionen auf native Funktionen bei verschiedenenPlattformen, wodurch eine Fallunterscheidung im Quellcode notwendig wird. Ein weiterer Minuspunkt ist die schlechte Debugging-Unterstützung, die sich teilweise auf Fehlerausgaben auf der Konsolebeschränkt.\\Obwohl spezielle Frameworks die Umwandlung von plattformunabhängigen Anwendungen innative Apps ermöglichen, nutzen viele Hersteller, wie Apple oder Google, ihre Marktdominanz aus, um hybride Technologien und Frameworks zu verhindern. WeitereNachteile von hybride Apps sind die mangelnde Sicherheit und die fehlende Offenheit. \\PhoneGap ist sehr verbreitet als Cross-Plattform-Entwicklungstool und somit kann man sich überOnline-Support freuen. Es ist gut zu gebrauchen, wenn für die App Entwicklung ein kleineres Budgetzur Verfügung steht. Allerdings ist es nicht geeignet für kompliziertere Anwendungen, da HTML, CSSund JavaScript für Web Technologien und nicht für native App Entwicklung vorgesehen wurden. Einweiteres Argument gegen PhoneGap ist die Tatsache, dass PhoneGap kein komplettes ApplicationFramework ist, sondern vielmehr ein Wrapper ist, der eine bestehende Web-App als native App"`verkleidet"' und native Schnittstellen auf Basis von JavaScript realisiert\cite{BachelorthesisMichaelJaser}.\\Appcelerator weist ähnliche Schwächen auf, wie PhoneGap, da es auf Web Technologien basiert.\\Aus diesem Grund entstehen folgende Anforderungen an die Programmiersprache:\begin{itemize}  \item Triviale Probleme (Datenbankanbindung, Speicherverwaltung usw.) sollen mit einem möglichst  geringen Aufwand gelöst werden können.  \item Die Programmiersprache muss den objektorientierten Architekturstil unterstützen.  \item Die Entwicklungsumgebung soll umfangreiche Bibliotheken zur Verfügung stellen, die neben  Basisfunktionen (wie IO-Funktionalität, Dateiverwaltung usw.) noch Erweiterungen wie  SHA-Verschlüsselung oder Unterstützung von Internetprotokolle wie HTTP anbieten.  \item Einfache Anbindungen von Web Services.\end{itemize}Im Gegensatz zu den Webtechnologien erfüllt die Programmiersprache C\# die oben gestelltenAnforderungen. Nach \cite{EntwicklungDotNetApplikationen} ist C\# eine schnell zu beherrschendeobjektorientierte Programmiersprache, die gut geeignet zur Implementierung moderner Konzepte ist.Das .NET-Framework beinhaltet ein automatisches Speichermanagement (Garbage-Collector) und vieleBibliotheken. Darüber hinaus bietet C\# viele komfortableFeatures wie LINQ, Generics, Lambdas usw. an, und es lassen sich NuGet Packageseinbinden.\\Dementsprechend wird die Wahl auf iFactr und Xamarin begrenzt. Der Ansatz von iFactr sieht viel versprechend aus, allerdings ist iFactr nicht so verbreitet und daher ist die Communitynicht so groß, was zu einem Nachteil wird.\\Xamarin dagegen scheint dasrichtige Werkzeug zu sein, wenn es um die Entwicklung von leistungsfähigen, plattformübergreifendenmobilen Anwendungen geht. Da die Wahl für diese Arbeit aufXamarin fiel, wird das Framework mit seinem wichtigsten Komponenten im nächsten Kapitel nähervorgestellt.